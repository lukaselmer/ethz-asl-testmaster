<%= show_for @test_run do |t| %>
  <%= t.attributes :name, :state %>

  <div><%= @test_run.test_run_logs.count %></div>
  <div><%= @test_run.test_run_logs.group(:message_type).count(:id).collect { |k, v| "#{k}(#{v})" }.join(', ') %></div>

  <%= t.association :scenarios do %>

    <table class="table table-condensed">
      <thead>
      <tr>
        <th>Name</th>
        <th>Execution multiplicity</th>
        <th>Config template</th>
      </tr>
      </thead>

      <tbody>
      <% @test_run.scenarios.each do |scenario| %>
        <tr>
          <td><%= scenario.name %></td>
          <td><%= scenario.execution_multiplicity %></td>
          <td><pre><%= scenario.config_template %></pre></td>
        </tr>
      <% end %>
      </tbody>
    </table>
  <% end %>
<% end %>


<%= link_to 'Edit', edit_test_run_path(@test_run) %> |
<%= link_to 'Back', test_runs_path %>
